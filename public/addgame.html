<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">  
    <link type="text/css" rel="stylesheet" href="form.css">
    <link type="text/css" rel="stylesheet" href="nav.css">
    <script type="text/javascript" src="permission.js"></script>
    <script type="text/javascript" src="logged_in.js"></script>

    <script type="text/javascript">
        function saveGame() {
            var team = JSON.parse(localStorage.getItem("team"));
            var newGame = {}
            ["opponent", "date", "time", "address"].forEach(info=>
        newGame[info]=document.forms["gameForm"][info].value);
            newGame["statsFor"] = [0, 0, 0, 0, 0, 0, 0, 0, 0];
            newGame["statsAgainst"] = [0, 0, 0, 0, 0, 0, 0, 0, 0];

            var home_status = document.forms["gameForm"]["home"].checked;
            if (home_status){
                newGame["location"] = "home";
            }else{
                newGame["location"] = "away";
            }

            var match_checked = document.getElementById("match");
            if (match_checked.checked) {
                newGame["type"] = "match";
            }else{
                newGame["type"] = "practice";
            }
            team.schedule.push(newGame);
            localStorage.setItem("team", JSON.stringify(team));
        }
    </script>
    
    <title>Add Game</title>
<link rel="manifest" href="/manifest.json"></head>
<body style="margin:0 0.1rem 0.1rem 0.1rem;">
    <header id="topPage">
    <h1>Team MBR</h1>
    <nav>
            <a href="index.html">Home</a>
            <a href="viewSchedule.html">Schedule</a>
            <a href="viewSquad.html">Squad</a>
     </nav>
    </header>

    <h2 style="text-align:center">Add Game</h2>
    <form name="gameForm" method="POST" action="viewSchedule.html">
            <label for="opponent">Opponent Team:</label>
                <input type="text" id="opponent" placeholder="Opponent Team" />
            <label for="date">Date:</label>
                <input type="date" id="date"/>
            <label for="time">Time:</label>
                <input type="time" id="time"/>        
            <label for="address">Location:</label>
                <input type="text" id="address" placeholder="Address" />
            <label>Status:</label>
            <label><input type="radio" id="home" name="status" value="sethome">Home</label>
            <label><input type="radio" id="away" name="status" value="setaway">Away</label>
            <br>
            <label>Type of Game:</label>
            <label><input type="radio" id="match" name="gametype" value="match" />Match</label>
            <label><input type="radio" id="practice" name="gametype" value="practice"/>Practice</label>
        <button type="button" onclick="saveGame()">Add Game</button>
    </form>
</body>
</html>